[debug] [2022-05-10T16:56:21.200Z] ----------------------------------------------------------------------
[debug] [2022-05-10T16:56:21.201Z] Command:       /usr/bin/node /usr/bin/firebase emulators:start --only functions
[debug] [2022-05-10T16:56:21.202Z] CLI Version:   10.8.0
[debug] [2022-05-10T16:56:21.202Z] Platform:      linux
[debug] [2022-05-10T16:56:21.202Z] Node Version:  v16.15.0
[debug] [2022-05-10T16:56:21.202Z] Time:          Tue May 10 2022 19:56:21 GMT+0300 (East Africa Time)
[debug] [2022-05-10T16:56:21.202Z] ----------------------------------------------------------------------
[debug] 
[debug] [2022-05-10T16:56:21.266Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2022-05-10T16:56:21.267Z] > authorizing via signed-in user (nabcellent.dev@gmail.com)
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[debug] [2022-05-10T16:56:21.291Z] [hub] writing locator at /tmp/hub-ntsa-drivers-e8a6a.json
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, hosting, pubsub, storage {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, hosting, pubsub, storage\u001b[22m"}}
[info] ✔  functions: Using node@16 from host. {"metadata":{"emulator":{"name":"functions"},"message":"Using node@16 from host."}}
[debug] [2022-05-10T16:56:21.310Z] defaultcredentials: writing to file /home/nabcellent/.config/firebase/nabcellent_dev_gmail.com_application_default_credentials.json
[debug] [2022-05-10T16:56:21.311Z] Setting GAC to /home/nabcellent/.config/firebase/nabcellent_dev_gmail.com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /home/nabcellent/.config/firebase/nabcellent_dev_gmail.com_application_default_credentials.json"}}
[debug] [2022-05-10T16:56:21.313Z] > refreshing access token with scopes: []
[debug] [2022-05-10T16:56:21.313Z] >>> HTTP REQUEST POST https://www.googleapis.com/oauth2/v3/token  
 <request body omitted>
[debug] [2022-05-10T16:56:34.243Z] <<< HTTP RESPONSE 200 {"cache-control":"no-cache, no-store, max-age=0, must-revalidate","date":"Tue, 10 May 2022 16:56:34 GMT","pragma":"no-cache","expires":"Mon, 01 Jan 1990 00:00:00 GMT","content-type":"application/json; charset=utf-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2022-05-10T16:56:34.256Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/ntsa-drivers-e8a6a/adminSdkConfig [none]
[debug] [2022-05-10T16:56:35.534Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/ntsa-drivers-e8a6a/adminSdkConfig 200
[debug] [2022-05-10T16:56:35.535Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/ntsa-drivers-e8a6a/adminSdkConfig {"projectId":"ntsa-drivers-e8a6a","storageBucket":"ntsa-drivers-e8a6a.appspot.com","locationId":"us-central"}
[warn] ⚠  ui: Emulator UI unable to start on port 4000, starting on 4006 instead. {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI unable to start on port 4000, starting on 4006 instead."}}
[debug] [2022-05-10T16:56:35.567Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2022-05-10T16:56:35.567Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2022-05-10T16:56:35.567Z] Starting Emulator UI with command {"binary":"node","args":["/home/nabcellent/.cache/firebase/emulators/ui-v1.6.6/server.bundle.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"/home/nabcellent/.cache/firebase/emulators/ui-v1.6.6/server.bundle.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2022-05-10T16:56:35.660Z] Web / API server started at localhost:4006
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at localhost:4006\n"}}
[info] i  functions: Watching "/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions\" for Cloud Functions..."}}
[debug] [2022-05-10T16:56:35.721Z] Validating nodejs source
[debug] [2022-05-10T16:56:36.973Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.1",
    "express-async-errors": "^3.1.1",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0",
    "joi": "^17.6.0",
    "mpesa-api": "^3.0.2"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-05-10T16:56:36.973Z] Building nodejs source
[debug] [2022-05-10T16:56:36.973Z] Analyzing nodejs backend spec
[info] ✔  functions[us-central1-api]: http function initialized (http://localhost:5001/ntsa-drivers-e8a6a/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/ntsa-drivers-e8a6a/us-central1/api)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://localhost:4006                │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ localhost:5001 │ http://localhost:4006/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at localhost:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2022-05-10T16:59:35.899Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-05-10T16:59:35.899Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-05-10T16:59:35.900Z] Accepted request OPTIONS /ntsa-drivers-e8a6a/us-central1/api/mpesa/initiate-stk --> us-central1-api
[debug] [2022-05-10T16:59:35.907Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-05-10T16:59:35.908Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-05-10T16:59:35.908Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-05-10T16:59:35.909Z] [worker-us-central1-api-efa1d776-c9a3-41ca-813e-a23f9746bc81]: Assigning socketPath: /tmp/fire_emu_57191.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-efa1d776-c9a3-41ca-813e-a23f9746bc81]: Assigning socketPath: /tmp/fire_emu_57191.sock"}}
[debug] [2022-05-10T16:59:35.909Z] [worker-us-central1-api-efa1d776-c9a3-41ca-813e-a23f9746bc81]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-efa1d776-c9a3-41ca-813e-a23f9746bc81]: BUSY"}}
[debug] [2022-05-10T16:59:36.591Z] [runtime-status] [57191] Functions runtime initialized. {"cwd":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions","node_version":"16.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57191] Functions runtime initialized. {\"cwd\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions\",\"node_version\":\"16.15.0\"}"}}
[debug] [2022-05-10T16:59:36.597Z] [runtime-status] [57191] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57191] Disabled runtime features: undefined"}}
[debug] [2022-05-10T16:59:36.600Z] [runtime-status] [57191] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.2.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57191] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.2.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-05-10T16:59:36.601Z] [runtime-status] [57191] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57191] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T16:59:36.603Z] [runtime-status] [57191] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57191] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-05-10T16:59:36.603Z] [runtime-status] [57191] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57191] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T16:59:36.633Z] [runtime-status] [57191] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57191] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-05-10T16:59:36.634Z] [runtime-status] [57191] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57191] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-05-10T16:59:36.635Z] [runtime-status] [57191] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57191] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T16:59:36.635Z] [runtime-status] [57191] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.2.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57191] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.2.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-05-10T16:59:36.636Z] [runtime-status] [57191] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57191] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T16:59:36.636Z] [runtime-status] [57191] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.2.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57191] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.2.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-05-10T16:59:36.754Z] [runtime-status] [57191] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57191] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-05-10T16:59:36.755Z] [runtime-status] [57191] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57191] Running api in signature http"}}
[debug] [2022-05-10T16:59:36.757Z] [runtime-status] [57191] Attempting to listen to socketPath: /tmp/fire_emu_57191.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57191] Attempting to listen to socketPath: /tmp/fire_emu_57191.sock"}}
[debug] [2022-05-10T16:59:36.762Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-05-10T16:59:36.763Z] [functions] Got req.url=/ntsa-drivers-e8a6a/us-central1/api/mpesa/initiate-stk, mapping to path=/mpesa/initiate-stk {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/ntsa-drivers-e8a6a/us-central1/api/mpesa/initiate-stk, mapping to path=/mpesa/initiate-stk"}}
[debug] [2022-05-10T16:59:36.767Z] [runtime-status] [57191] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57191] Ephemeral server handling OPTIONS request"}}
[debug] [2022-05-10T16:59:36.772Z] [runtime-status] [57191] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57191] Ephemeral server survived."}}
[debug] [2022-05-10T16:59:36.774Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-05-10T16:59:36.774Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-05-10T16:59:36.774Z] Accepted request POST /ntsa-drivers-e8a6a/us-central1/api/mpesa/initiate-stk --> us-central1-api
[debug] [2022-05-10T16:59:36.782Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-05-10T16:59:36.782Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2022-05-10T16:59:36.782Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-05-10T16:59:36.782Z] [worker-us-central1-api-70b61f46-7c8f-4853-8c88-d8f5dd4f49a2]: Assigning socketPath: /tmp/fire_emu_57198.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-70b61f46-7c8f-4853-8c88-d8f5dd4f49a2]: Assigning socketPath: /tmp/fire_emu_57198.sock"}}
[debug] [2022-05-10T16:59:36.783Z] [worker-us-central1-api-70b61f46-7c8f-4853-8c88-d8f5dd4f49a2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-70b61f46-7c8f-4853-8c88-d8f5dd4f49a2]: BUSY"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-05-10T16:59:36.784Z] [worker-us-central1-api-efa1d776-c9a3-41ca-813e-a23f9746bc81]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-efa1d776-c9a3-41ca-813e-a23f9746bc81]: IDLE"}}
[debug] [2022-05-10T16:59:36.784Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-05-10T16:59:37.414Z] [runtime-status] [57198] Functions runtime initialized. {"cwd":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions","node_version":"16.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57198] Functions runtime initialized. {\"cwd\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions\",\"node_version\":\"16.15.0\"}"}}
[debug] [2022-05-10T16:59:37.415Z] [runtime-status] [57198] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57198] Disabled runtime features: undefined"}}
[debug] [2022-05-10T16:59:37.417Z] [runtime-status] [57198] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.2.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57198] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.2.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-05-10T16:59:37.418Z] [runtime-status] [57198] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57198] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T16:59:37.418Z] [runtime-status] [57198] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57198] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-05-10T16:59:37.418Z] [runtime-status] [57198] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57198] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T16:59:37.448Z] [runtime-status] [57198] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57198] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-05-10T16:59:37.448Z] [runtime-status] [57198] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57198] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-05-10T16:59:37.449Z] [runtime-status] [57198] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57198] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T16:59:37.450Z] [runtime-status] [57198] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.2.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57198] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.2.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-05-10T16:59:37.450Z] [runtime-status] [57198] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57198] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T16:59:37.450Z] [runtime-status] [57198] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.2.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57198] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.2.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-05-10T16:59:37.553Z] [runtime-status] [57198] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57198] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-05-10T16:59:37.553Z] [runtime-status] [57198] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57198] Running api in signature http"}}
[debug] [2022-05-10T16:59:37.557Z] [runtime-status] [57198] Attempting to listen to socketPath: /tmp/fire_emu_57198.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57198] Attempting to listen to socketPath: /tmp/fire_emu_57198.sock"}}
[debug] [2022-05-10T16:59:37.563Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-05-10T16:59:37.564Z] [functions] Got req.url=/ntsa-drivers-e8a6a/us-central1/api/mpesa/initiate-stk, mapping to path=/mpesa/initiate-stk {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/ntsa-drivers-e8a6a/us-central1/api/mpesa/initiate-stk, mapping to path=/mpesa/initiate-stk"}}
[debug] [2022-05-10T16:59:37.582Z] [runtime-status] [57198] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57198] Ephemeral server handling POST request"}}
[info] >  [Error [ValidationError]: "phone" must be a number] { {"user":"[Error [ValidationError]: \"phone\" must be a number] {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m [Error [ValidationError]: \"phone\" must be a number] {"}}
[info] >    _original: { {"user":"  _original: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   _original: {"}}
[info] >      phone: { {"user":"    phone: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     phone: {"}}
[info] >        countryCallingCode: '254', {"user":"      countryCallingCode: '254',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       countryCallingCode: '254',"}}
[info] >        nationalNumber: '110039317', {"user":"      nationalNumber: '110039317',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       nationalNumber: '110039317',"}}
[info] >        number: '+254110039317', {"user":"      number: '+254110039317',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       number: '+254110039317',"}}
[info] >        metadata: [Object], {"user":"      metadata: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       metadata: [Object],"}}
[info] >        country: 'KE' {"user":"      country: 'KE'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       country: 'KE'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      amount: 1 {"user":"    amount: 1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     amount: 1"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    details: [ {"user":"  details: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   details: ["}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        message: '"phone" must be a number', {"user":"      message: '\"phone\" must be a number',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       message: '\"phone\" must be a number',"}}
[info] >        path: [Array], {"user":"      path: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       path: [Array],"}}
[info] >        type: 'number.base', {"user":"      type: 'number.base',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       type: 'number.base',"}}
[info] >        context: [Object] {"user":"      context: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       context: [Object]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    ] {"user":"  ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   ]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Error: Invalid request! {"user":"Error: Invalid request!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: Invalid request!"}}
[info] >      at /home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/server/http/middleware/validate.middleware.js:22:19 {"user":"    at /home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/server/http/middleware/validate.middleware.js:22:19","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/server/http/middleware/validate.middleware.js:22:19"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5)"}}
[debug] [2022-05-10T16:59:37.599Z] [runtime-status] [57198] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57198] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-05-10T16:59:37.603Z] [worker-us-central1-api-70b61f46-7c8f-4853-8c88-d8f5dd4f49a2]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-70b61f46-7c8f-4853-8c88-d8f5dd4f49a2]: IDLE"}}
[debug] [2022-05-10T16:59:37.604Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-05-10T17:00:24.322Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-05-10T17:00:24.323Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-05-10T17:00:24.323Z] Accepted request OPTIONS /ntsa-drivers-e8a6a/us-central1/api/mpesa/initiate-stk --> us-central1-api
[debug] [2022-05-10T17:00:24.323Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-05-10T17:00:24.323Z] [worker-us-central1-api-efa1d776-c9a3-41ca-813e-a23f9746bc81]: Assigning socketPath: /tmp/fire_emu_57191.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-efa1d776-c9a3-41ca-813e-a23f9746bc81]: Assigning socketPath: /tmp/fire_emu_57191.sock"}}
[debug] [2022-05-10T17:00:24.323Z] [worker-us-central1-api-efa1d776-c9a3-41ca-813e-a23f9746bc81]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-efa1d776-c9a3-41ca-813e-a23f9746bc81]: BUSY"}}
[debug] [2022-05-10T17:00:24.324Z] [runtime-status] [57191] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57191] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-05-10T17:00:24.325Z] [runtime-status] [57191] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57191] Running api in signature http"}}
[debug] [2022-05-10T17:00:24.326Z] [runtime-status] [57191] Attempting to listen to socketPath: /tmp/fire_emu_57191.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57191] Attempting to listen to socketPath: /tmp/fire_emu_57191.sock"}}
[debug] [2022-05-10T17:00:24.328Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-05-10T17:00:24.328Z] [functions] Got req.url=/ntsa-drivers-e8a6a/us-central1/api/mpesa/initiate-stk, mapping to path=/mpesa/initiate-stk {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/ntsa-drivers-e8a6a/us-central1/api/mpesa/initiate-stk, mapping to path=/mpesa/initiate-stk"}}
[debug] [2022-05-10T17:00:24.332Z] [runtime-status] [57191] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57191] Ephemeral server handling OPTIONS request"}}
[debug] [2022-05-10T17:00:24.335Z] [runtime-status] [57191] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57191] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-05-10T17:00:24.337Z] [worker-us-central1-api-efa1d776-c9a3-41ca-813e-a23f9746bc81]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-efa1d776-c9a3-41ca-813e-a23f9746bc81]: IDLE"}}
[debug] [2022-05-10T17:00:24.337Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-05-10T17:00:24.339Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-05-10T17:00:24.339Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-05-10T17:00:24.339Z] Accepted request POST /ntsa-drivers-e8a6a/us-central1/api/mpesa/initiate-stk --> us-central1-api
[debug] [2022-05-10T17:00:24.339Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-05-10T17:00:24.339Z] [worker-us-central1-api-efa1d776-c9a3-41ca-813e-a23f9746bc81]: Assigning socketPath: /tmp/fire_emu_57191.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-efa1d776-c9a3-41ca-813e-a23f9746bc81]: Assigning socketPath: /tmp/fire_emu_57191.sock"}}
[debug] [2022-05-10T17:00:24.340Z] [worker-us-central1-api-efa1d776-c9a3-41ca-813e-a23f9746bc81]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-efa1d776-c9a3-41ca-813e-a23f9746bc81]: BUSY"}}
[debug] [2022-05-10T17:00:24.345Z] [runtime-status] [57191] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57191] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-05-10T17:00:24.347Z] [runtime-status] [57191] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57191] Running api in signature http"}}
[debug] [2022-05-10T17:00:24.347Z] [runtime-status] [57191] Attempting to listen to socketPath: /tmp/fire_emu_57191.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57191] Attempting to listen to socketPath: /tmp/fire_emu_57191.sock"}}
[debug] [2022-05-10T17:00:24.350Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-05-10T17:00:24.350Z] [functions] Got req.url=/ntsa-drivers-e8a6a/us-central1/api/mpesa/initiate-stk, mapping to path=/mpesa/initiate-stk {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/ntsa-drivers-e8a6a/us-central1/api/mpesa/initiate-stk, mapping to path=/mpesa/initiate-stk"}}
[debug] [2022-05-10T17:00:24.364Z] [runtime-status] [57191] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57191] Ephemeral server handling POST request"}}
[debug] [2022-05-10T17:00:24.371Z] [runtime-status] [57191] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57191] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-05-10T17:00:24.371Z] [worker-us-central1-api-efa1d776-c9a3-41ca-813e-a23f9746bc81]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-efa1d776-c9a3-41ca-813e-a23f9746bc81]: IDLE"}}
[debug] [2022-05-10T17:00:24.372Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-05-10T17:00:37.528Z] File /home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/server/http/controllers/mpesa.controller.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/server/http/controllers/mpesa.controller.js changed, reloading triggers"}}
[debug] [2022-05-10T17:00:38.528Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2022-05-10T17:00:38.528Z] [worker-us-central1-api-efa1d776-c9a3-41ca-813e-a23f9746bc81]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-efa1d776-c9a3-41ca-813e-a23f9746bc81]: FINISHING"}}
[debug] [2022-05-10T17:00:38.528Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2022-05-10T17:00:38.529Z] [worker-us-central1-api-70b61f46-7c8f-4853-8c88-d8f5dd4f49a2]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-70b61f46-7c8f-4853-8c88-d8f5dd4f49a2]: FINISHING"}}
[debug] [2022-05-10T17:00:38.532Z] Validating nodejs source
[debug] [2022-05-10T17:01:21.380Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.1",
    "express-async-errors": "^3.1.1",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0",
    "joi": "^17.6.0",
    "mpesa-api": "^3.0.2"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-05-10T17:01:21.381Z] Building nodejs source
[debug] [2022-05-10T17:01:21.381Z] Analyzing nodejs backend spec
[debug] [2022-05-10T17:01:21.389Z] [worker-us-central1-api-efa1d776-c9a3-41ca-813e-a23f9746bc81]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-efa1d776-c9a3-41ca-813e-a23f9746bc81]: exited"}}
[debug] [2022-05-10T17:01:21.389Z] [worker-us-central1-api-efa1d776-c9a3-41ca-813e-a23f9746bc81]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-efa1d776-c9a3-41ca-813e-a23f9746bc81]: FINISHED"}}
[debug] [2022-05-10T17:01:21.389Z] [worker-us-central1-api-70b61f46-7c8f-4853-8c88-d8f5dd4f49a2]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-70b61f46-7c8f-4853-8c88-d8f5dd4f49a2]: exited"}}
[debug] [2022-05-10T17:01:21.389Z] [worker-us-central1-api-70b61f46-7c8f-4853-8c88-d8f5dd4f49a2]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-70b61f46-7c8f-4853-8c88-d8f5dd4f49a2]: FINISHED"}}
[debug] [2022-05-10T17:01:21.391Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-05-10T17:01:21.391Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-05-10T17:01:21.391Z] Accepted request OPTIONS /ntsa-drivers-e8a6a/us-central1/api/mpesa/initiate-stk --> us-central1-api
[debug] [2022-05-10T17:01:21.391Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2022-05-10T17:01:21.399Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-05-10T17:01:21.399Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-05-10T17:01:21.399Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-05-10T17:01:21.399Z] [worker-us-central1-api-822cae01-2680-4b57-847b-6990bc09389d]: Assigning socketPath: /tmp/fire_emu_57344.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-822cae01-2680-4b57-847b-6990bc09389d]: Assigning socketPath: /tmp/fire_emu_57344.sock"}}
[debug] [2022-05-10T17:01:21.400Z] [worker-us-central1-api-822cae01-2680-4b57-847b-6990bc09389d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-822cae01-2680-4b57-847b-6990bc09389d]: BUSY"}}
[debug] [2022-05-10T17:01:22.073Z] [runtime-status] [57344] Functions runtime initialized. {"cwd":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions","node_version":"16.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57344] Functions runtime initialized. {\"cwd\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions\",\"node_version\":\"16.15.0\"}"}}
[debug] [2022-05-10T17:01:22.077Z] [runtime-status] [57344] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57344] Disabled runtime features: undefined"}}
[debug] [2022-05-10T17:01:22.079Z] [runtime-status] [57344] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.2.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57344] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.2.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-05-10T17:01:22.081Z] [runtime-status] [57344] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57344] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T17:01:22.082Z] [runtime-status] [57344] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57344] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-05-10T17:01:22.082Z] [runtime-status] [57344] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57344] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T17:01:22.107Z] [runtime-status] [57344] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57344] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-05-10T17:01:22.107Z] [runtime-status] [57344] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57344] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-05-10T17:01:22.108Z] [runtime-status] [57344] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57344] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T17:01:22.108Z] [runtime-status] [57344] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.2.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57344] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.2.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-05-10T17:01:22.109Z] [runtime-status] [57344] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57344] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T17:01:22.109Z] [runtime-status] [57344] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.2.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57344] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.2.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-05-10T17:01:22.211Z] [runtime-status] [57344] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57344] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-05-10T17:01:22.213Z] [runtime-status] [57344] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57344] Running api in signature http"}}
[debug] [2022-05-10T17:01:22.217Z] [runtime-status] [57344] Attempting to listen to socketPath: /tmp/fire_emu_57344.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57344] Attempting to listen to socketPath: /tmp/fire_emu_57344.sock"}}
[debug] [2022-05-10T17:01:22.224Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-05-10T17:01:22.224Z] [functions] Got req.url=/ntsa-drivers-e8a6a/us-central1/api/mpesa/initiate-stk, mapping to path=/mpesa/initiate-stk {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/ntsa-drivers-e8a6a/us-central1/api/mpesa/initiate-stk, mapping to path=/mpesa/initiate-stk"}}
[debug] [2022-05-10T17:01:22.229Z] [runtime-status] [57344] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57344] Ephemeral server handling OPTIONS request"}}
[debug] [2022-05-10T17:01:22.238Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-05-10T17:01:22.238Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-05-10T17:01:22.238Z] Accepted request POST /ntsa-drivers-e8a6a/us-central1/api/mpesa/initiate-stk --> us-central1-api
[debug] [2022-05-10T17:01:22.244Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-05-10T17:01:22.245Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2022-05-10T17:01:22.245Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-05-10T17:01:22.245Z] [worker-us-central1-api-88e18bfb-7338-465b-b138-9792a2125bd4]: Assigning socketPath: /tmp/fire_emu_57354.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-88e18bfb-7338-465b-b138-9792a2125bd4]: Assigning socketPath: /tmp/fire_emu_57354.sock"}}
[debug] [2022-05-10T17:01:22.245Z] [worker-us-central1-api-88e18bfb-7338-465b-b138-9792a2125bd4]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-88e18bfb-7338-465b-b138-9792a2125bd4]: BUSY"}}
[debug] [2022-05-10T17:01:22.246Z] [runtime-status] [57344] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57344] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-05-10T17:01:22.246Z] [worker-us-central1-api-822cae01-2680-4b57-847b-6990bc09389d]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-822cae01-2680-4b57-847b-6990bc09389d]: IDLE"}}
[debug] [2022-05-10T17:01:22.247Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-05-10T17:01:22.887Z] [runtime-status] [57354] Functions runtime initialized. {"cwd":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions","node_version":"16.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57354] Functions runtime initialized. {\"cwd\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions\",\"node_version\":\"16.15.0\"}"}}
[debug] [2022-05-10T17:01:22.890Z] [runtime-status] [57354] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57354] Disabled runtime features: undefined"}}
[debug] [2022-05-10T17:01:22.892Z] [runtime-status] [57354] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.2.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57354] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.2.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-05-10T17:01:22.893Z] [runtime-status] [57354] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57354] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T17:01:22.893Z] [runtime-status] [57354] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57354] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-05-10T17:01:22.894Z] [runtime-status] [57354] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57354] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T17:01:22.920Z] [runtime-status] [57354] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57354] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-05-10T17:01:22.920Z] [runtime-status] [57354] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57354] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-05-10T17:01:22.921Z] [runtime-status] [57354] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57354] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T17:01:22.923Z] [runtime-status] [57354] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.2.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57354] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.2.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-05-10T17:01:22.923Z] [runtime-status] [57354] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57354] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T17:01:22.923Z] [runtime-status] [57354] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.2.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57354] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.2.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-05-10T17:01:23.019Z] [runtime-status] [57354] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57354] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-05-10T17:01:23.019Z] [runtime-status] [57354] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57354] Running api in signature http"}}
[debug] [2022-05-10T17:01:23.022Z] [runtime-status] [57354] Attempting to listen to socketPath: /tmp/fire_emu_57354.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57354] Attempting to listen to socketPath: /tmp/fire_emu_57354.sock"}}
[debug] [2022-05-10T17:01:23.025Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-05-10T17:01:23.025Z] [functions] Got req.url=/ntsa-drivers-e8a6a/us-central1/api/mpesa/initiate-stk, mapping to path=/mpesa/initiate-stk {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/ntsa-drivers-e8a6a/us-central1/api/mpesa/initiate-stk, mapping to path=/mpesa/initiate-stk"}}
[debug] [2022-05-10T17:01:23.038Z] [runtime-status] [57354] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57354] Ephemeral server handling POST request"}}
[debug] [2022-05-10T17:01:23.052Z] [runtime-status] [57354] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57354] Ephemeral server survived."}}
[info] >  MpesaError:  { {"user":"MpesaError:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m MpesaError:  {"}}
[info] >    protocol: 'https:', {"user":"  protocol: 'https:',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   protocol: 'https:',"}}
[info] >    hostname: 'sandbox.safaricom.co.ke', {"user":"  hostname: 'sandbox.safaricom.co.ke',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   hostname: 'sandbox.safaricom.co.ke',"}}
[info] >    path: '/mpesa/stkpush/v1/processrequest', {"user":"  path: '/mpesa/stkpush/v1/processrequest',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   path: '/mpesa/stkpush/v1/processrequest',"}}
[info] >    method: 'POST', {"user":"  method: 'POST',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   method: 'POST',"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      date: 'Tue, 10 May 2022 17:01:24 GMT', {"user":"    date: 'Tue, 10 May 2022 17:01:24 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Tue, 10 May 2022 17:01:24 GMT',"}}
[info] >      'content-type': 'application/json;charset=UTF-8', {"user":"    'content-type': 'application/json;charset=UTF-8',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json;charset=UTF-8',"}}
[info] >      'content-length': '198', {"user":"    'content-length': '198',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '198',"}}
[info] >      connection: 'close', {"user":"    connection: 'close',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'close',"}}
[info] >      'cache-control': 'no-store', {"user":"    'cache-control': 'no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-store',"}}
[info] >      'server-timing': 'dtSInfo;desc="1"', {"user":"    'server-timing': 'dtSInfo;desc=\"1\"',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'server-timing': 'dtSInfo;desc=\"1\"',"}}
[info] >      'set-cookie': [ {"user":"    'set-cookie': [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'set-cookie': ["}}
[info] >        'dtCookie=v_4_srv_8_sn_54FBFB2A08C0D01314046723D8443B13_perc_100000_ol_0_mul_1_app-3Aea7c4b59f27d43eb_1_rcs-3Acss_0; Path=/; Domain=.safaricom.co.ke', {"user":"      'dtCookie=v_4_srv_8_sn_54FBFB2A08C0D01314046723D8443B13_perc_100000_ol_0_mul_1_app-3Aea7c4b59f27d43eb_1_rcs-3Acss_0; Path=/; Domain=.safaricom.co.ke',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'dtCookie=v_4_srv_8_sn_54FBFB2A08C0D01314046723D8443B13_perc_100000_ol_0_mul_1_app-3Aea7c4b59f27d43eb_1_rcs-3Acss_0; Path=/; Domain=.safaricom.co.ke',"}}
[info] >        'visid_incap_2742146=Gknt/h0BQ2CwZzgy+UIpZWOaemIAAAAAQUIPAAAAAABoTz+uf3gXRCnbnwCoJJGa; expires=Wed, 10 May 2023 15:18:15 GMT; HttpOnly; path=/; Domain=.safaricom.co.ke; Secure; SameSite=None', {"user":"      'visid_incap_2742146=Gknt/h0BQ2CwZzgy+UIpZWOaemIAAAAAQUIPAAAAAABoTz+uf3gXRCnbnwCoJJGa; expires=Wed, 10 May 2023 15:18:15 GMT; HttpOnly; path=/; Domain=.safaricom.co.ke; Secure; SameSite=None',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'visid_incap_2742146=Gknt/h0BQ2CwZzgy+UIpZWOaemIAAAAAQUIPAAAAAABoTz+uf3gXRCnbnwCoJJGa; expires=Wed, 10 May 2023 15:18:15 GMT; HttpOnly; path=/; Domain=.safaricom.co.ke; Secure; SameSite=None',"}}
[info] >        'incap_ses_1019_2742146=kJanOCgt6Aw6v+7L3zckDmOaemIAAAAApuWXoJzgNeg1kz+/aXZ2tg==; path=/; Domain=.safaricom.co.ke; Secure; SameSite=None' {"user":"      'incap_ses_1019_2742146=kJanOCgt6Aw6v+7L3zckDmOaemIAAAAApuWXoJzgNeg1kz+/aXZ2tg==; path=/; Domain=.safaricom.co.ke; Secure; SameSite=None'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'incap_ses_1019_2742146=kJanOCgt6Aw6v+7L3zckDmOaemIAAAAApuWXoJzgNeg1kz+/aXZ2tg==; path=/; Domain=.safaricom.co.ke; Secure; SameSite=None'"}}
[info] >      ], {"user":"    ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     ],"}}
[info] >      'strict-transport-security': 'max-age=31536000', {"user":"    'strict-transport-security': 'max-age=31536000',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31536000',"}}
[info] >      'x-cdn': 'Imperva', {"user":"    'x-cdn': 'Imperva',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'x-cdn': 'Imperva',"}}
[info] >      'x-iinfo': '11-17863477-17863481 NNNN CT(65 66 0) RT(1652202083052 86) q(0 0 1 -1) r(3 3) U6' {"user":"    'x-iinfo': '11-17863477-17863481 NNNN CT(65 66 0) RT(1652202083052 86) q(0 0 1 -1) r(3 3) U6'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'x-iinfo': '11-17863477-17863481 NNNN CT(65 66 0) RT(1652202083052 86) q(0 0 1 -1) r(3 3) U6'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    statusMessage: 'Bad Request', {"user":"  statusMessage: 'Bad Request',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusMessage: 'Bad Request',"}}
[info] >    data: { {"user":"  data: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   data: {"}}
[info] >      requestId: '46608-38922232-1', {"user":"    requestId: '46608-38922232-1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: '46608-38922232-1',"}}
[info] >      errorCode: '400.002.02', {"user":"    errorCode: '400.002.02',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     errorCode: '400.002.02',"}}
[info] >      errorMessage: 'Bad Request - Invalid PartyB' {"user":"    errorMessage: 'Bad Request - Invalid PartyB'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     errorMessage: 'Bad Request - Invalid PartyB'"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-05-10T17:01:24.284Z] [worker-us-central1-api-88e18bfb-7338-465b-b138-9792a2125bd4]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-88e18bfb-7338-465b-b138-9792a2125bd4]: IDLE"}}
[debug] [2022-05-10T17:01:24.285Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-05-10T17:09:10.146Z] File /home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/server/http/controllers/mpesa.controller.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/server/http/controllers/mpesa.controller.js changed, reloading triggers"}}
[debug] [2022-05-10T17:09:11.147Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2022-05-10T17:09:11.147Z] [worker-us-central1-api-822cae01-2680-4b57-847b-6990bc09389d]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-822cae01-2680-4b57-847b-6990bc09389d]: FINISHING"}}
[debug] [2022-05-10T17:09:11.148Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2022-05-10T17:09:11.148Z] [worker-us-central1-api-88e18bfb-7338-465b-b138-9792a2125bd4]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-88e18bfb-7338-465b-b138-9792a2125bd4]: FINISHING"}}
[debug] [2022-05-10T17:09:11.149Z] Validating nodejs source
[debug] [2022-05-10T17:09:13.327Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.1",
    "express-async-errors": "^3.1.1",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0",
    "joi": "^17.6.0",
    "mpesa-api": "^3.0.2"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-05-10T17:09:13.327Z] Building nodejs source
[debug] [2022-05-10T17:09:13.327Z] Analyzing nodejs backend spec
[debug] [2022-05-10T17:09:13.335Z] [worker-us-central1-api-822cae01-2680-4b57-847b-6990bc09389d]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-822cae01-2680-4b57-847b-6990bc09389d]: exited"}}
[debug] [2022-05-10T17:09:13.335Z] [worker-us-central1-api-822cae01-2680-4b57-847b-6990bc09389d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-822cae01-2680-4b57-847b-6990bc09389d]: FINISHED"}}
[debug] [2022-05-10T17:09:13.335Z] [worker-us-central1-api-88e18bfb-7338-465b-b138-9792a2125bd4]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-88e18bfb-7338-465b-b138-9792a2125bd4]: exited"}}
[debug] [2022-05-10T17:09:13.335Z] [worker-us-central1-api-88e18bfb-7338-465b-b138-9792a2125bd4]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-88e18bfb-7338-465b-b138-9792a2125bd4]: FINISHED"}}
[debug] [2022-05-10T17:09:15.526Z] File /home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/server/http/controllers/mpesa.controller.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/server/http/controllers/mpesa.controller.js changed, reloading triggers"}}
[debug] [2022-05-10T17:09:16.528Z] Validating nodejs source
[debug] [2022-05-10T17:09:17.933Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.1",
    "express-async-errors": "^3.1.1",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0",
    "joi": "^17.6.0",
    "mpesa-api": "^3.0.2"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-05-10T17:09:17.933Z] Building nodejs source
[debug] [2022-05-10T17:09:17.933Z] Analyzing nodejs backend spec
[debug] [2022-05-10T17:09:21.122Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-05-10T17:09:21.122Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-05-10T17:09:21.123Z] Accepted request OPTIONS /ntsa-drivers-e8a6a/us-central1/api/mpesa/initiate-stk --> us-central1-api
[debug] [2022-05-10T17:09:21.123Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2022-05-10T17:09:21.131Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-05-10T17:09:21.131Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-05-10T17:09:21.131Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-05-10T17:09:21.132Z] [worker-us-central1-api-957b43f9-3d77-440f-978e-0374c6e5357b]: Assigning socketPath: /tmp/fire_emu_57857.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-957b43f9-3d77-440f-978e-0374c6e5357b]: Assigning socketPath: /tmp/fire_emu_57857.sock"}}
[debug] [2022-05-10T17:09:21.132Z] [worker-us-central1-api-957b43f9-3d77-440f-978e-0374c6e5357b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-957b43f9-3d77-440f-978e-0374c6e5357b]: BUSY"}}
[debug] [2022-05-10T17:09:21.837Z] [runtime-status] [57857] Functions runtime initialized. {"cwd":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions","node_version":"16.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57857] Functions runtime initialized. {\"cwd\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions\",\"node_version\":\"16.15.0\"}"}}
[debug] [2022-05-10T17:09:21.838Z] [runtime-status] [57857] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57857] Disabled runtime features: undefined"}}
[debug] [2022-05-10T17:09:21.840Z] [runtime-status] [57857] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.2.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57857] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.2.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-05-10T17:09:21.842Z] [runtime-status] [57857] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57857] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T17:09:21.844Z] [runtime-status] [57857] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57857] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-05-10T17:09:21.844Z] [runtime-status] [57857] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57857] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T17:09:21.868Z] [runtime-status] [57857] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57857] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-05-10T17:09:21.868Z] [runtime-status] [57857] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57857] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-05-10T17:09:21.870Z] [runtime-status] [57857] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57857] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T17:09:21.870Z] [runtime-status] [57857] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.2.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57857] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.2.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-05-10T17:09:21.871Z] [runtime-status] [57857] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57857] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T17:09:21.871Z] [runtime-status] [57857] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.2.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57857] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.2.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-05-10T17:09:21.967Z] [runtime-status] [57857] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57857] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-05-10T17:09:21.968Z] [runtime-status] [57857] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57857] Running api in signature http"}}
[debug] [2022-05-10T17:09:21.971Z] [runtime-status] [57857] Attempting to listen to socketPath: /tmp/fire_emu_57857.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57857] Attempting to listen to socketPath: /tmp/fire_emu_57857.sock"}}
[debug] [2022-05-10T17:09:21.980Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-05-10T17:09:21.980Z] [functions] Got req.url=/ntsa-drivers-e8a6a/us-central1/api/mpesa/initiate-stk, mapping to path=/mpesa/initiate-stk {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/ntsa-drivers-e8a6a/us-central1/api/mpesa/initiate-stk, mapping to path=/mpesa/initiate-stk"}}
[debug] [2022-05-10T17:09:21.989Z] [runtime-status] [57857] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57857] Ephemeral server handling OPTIONS request"}}
[debug] [2022-05-10T17:09:21.997Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-05-10T17:09:21.997Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-05-10T17:09:21.997Z] Accepted request POST /ntsa-drivers-e8a6a/us-central1/api/mpesa/initiate-stk --> us-central1-api
[debug] [2022-05-10T17:09:22.006Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-05-10T17:09:22.007Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2022-05-10T17:09:22.007Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-05-10T17:09:22.007Z] [worker-us-central1-api-730c9549-c1e9-4755-9ddf-1d9a0b8940c1]: Assigning socketPath: /tmp/fire_emu_57867.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-730c9549-c1e9-4755-9ddf-1d9a0b8940c1]: Assigning socketPath: /tmp/fire_emu_57867.sock"}}
[debug] [2022-05-10T17:09:22.007Z] [worker-us-central1-api-730c9549-c1e9-4755-9ddf-1d9a0b8940c1]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-730c9549-c1e9-4755-9ddf-1d9a0b8940c1]: BUSY"}}
[debug] [2022-05-10T17:09:22.008Z] [runtime-status] [57857] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57857] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-05-10T17:09:22.009Z] [worker-us-central1-api-957b43f9-3d77-440f-978e-0374c6e5357b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-957b43f9-3d77-440f-978e-0374c6e5357b]: IDLE"}}
[debug] [2022-05-10T17:09:22.009Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-05-10T17:09:22.659Z] [runtime-status] [57867] Functions runtime initialized. {"cwd":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions","node_version":"16.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57867] Functions runtime initialized. {\"cwd\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions\",\"node_version\":\"16.15.0\"}"}}
[debug] [2022-05-10T17:09:22.663Z] [runtime-status] [57867] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57867] Disabled runtime features: undefined"}}
[debug] [2022-05-10T17:09:22.665Z] [runtime-status] [57867] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.2.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57867] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.2.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-05-10T17:09:22.666Z] [runtime-status] [57867] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57867] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T17:09:22.666Z] [runtime-status] [57867] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57867] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-05-10T17:09:22.667Z] [runtime-status] [57867] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57867] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T17:09:22.692Z] [runtime-status] [57867] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57867] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-05-10T17:09:22.692Z] [runtime-status] [57867] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57867] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-05-10T17:09:22.693Z] [runtime-status] [57867] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57867] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T17:09:22.694Z] [runtime-status] [57867] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.2.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57867] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.2.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-05-10T17:09:22.694Z] [runtime-status] [57867] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57867] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T17:09:22.695Z] [runtime-status] [57867] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.2.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57867] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.2.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-05-10T17:09:22.793Z] [runtime-status] [57867] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57867] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-05-10T17:09:22.794Z] [runtime-status] [57867] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57867] Running api in signature http"}}
[debug] [2022-05-10T17:09:22.797Z] [runtime-status] [57867] Attempting to listen to socketPath: /tmp/fire_emu_57867.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57867] Attempting to listen to socketPath: /tmp/fire_emu_57867.sock"}}
[debug] [2022-05-10T17:09:22.799Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-05-10T17:09:22.800Z] [functions] Got req.url=/ntsa-drivers-e8a6a/us-central1/api/mpesa/initiate-stk, mapping to path=/mpesa/initiate-stk {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/ntsa-drivers-e8a6a/us-central1/api/mpesa/initiate-stk, mapping to path=/mpesa/initiate-stk"}}
[debug] [2022-05-10T17:09:22.816Z] [runtime-status] [57867] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57867] Ephemeral server handling POST request"}}
[debug] [2022-05-10T17:09:22.829Z] [runtime-status] [57867] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [57867] Ephemeral server survived."}}
[info] >  MpesaError:  { {"user":"MpesaError:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m MpesaError:  {"}}
[info] >    protocol: 'https:', {"user":"  protocol: 'https:',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   protocol: 'https:',"}}
[info] >    hostname: 'sandbox.safaricom.co.ke', {"user":"  hostname: 'sandbox.safaricom.co.ke',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   hostname: 'sandbox.safaricom.co.ke',"}}
[info] >    path: '/mpesa/stkpush/v1/processrequest', {"user":"  path: '/mpesa/stkpush/v1/processrequest',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   path: '/mpesa/stkpush/v1/processrequest',"}}
[info] >    method: 'POST', {"user":"  method: 'POST',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   method: 'POST',"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      date: 'Tue, 10 May 2022 17:09:25 GMT', {"user":"    date: 'Tue, 10 May 2022 17:09:25 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Tue, 10 May 2022 17:09:25 GMT',"}}
[info] >      'content-type': 'application/json;charset=UTF-8', {"user":"    'content-type': 'application/json;charset=UTF-8',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json;charset=UTF-8',"}}
[info] >      'content-length': '203', {"user":"    'content-length': '203',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '203',"}}
[info] >      connection: 'close', {"user":"    connection: 'close',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'close',"}}
[info] >      'cache-control': 'no-store', {"user":"    'cache-control': 'no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-store',"}}
[info] >      'server-timing': 'dtSInfo;desc="1"', {"user":"    'server-timing': 'dtSInfo;desc=\"1\"',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'server-timing': 'dtSInfo;desc=\"1\"',"}}
[info] >      'set-cookie': [ {"user":"    'set-cookie': [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'set-cookie': ["}}
[info] >        'dtCookie=v_4_srv_8_sn_422EF49B3072E7757FE81B020E7E3CB0_perc_100000_ol_0_mul_1_app-3Aea7c4b59f27d43eb_1_rcs-3Acss_0; Path=/; Domain=.safaricom.co.ke', {"user":"      'dtCookie=v_4_srv_8_sn_422EF49B3072E7757FE81B020E7E3CB0_perc_100000_ol_0_mul_1_app-3Aea7c4b59f27d43eb_1_rcs-3Acss_0; Path=/; Domain=.safaricom.co.ke',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'dtCookie=v_4_srv_8_sn_422EF49B3072E7757FE81B020E7E3CB0_perc_100000_ol_0_mul_1_app-3Aea7c4b59f27d43eb_1_rcs-3Acss_0; Path=/; Domain=.safaricom.co.ke',"}}
[info] >        'visid_incap_2742146=/ZpafRwORVSBGIatY1GUGEScemIAAAAAQUIPAAAAAAD2xqqovCEsGF4fz8gCil+t; expires=Wed, 10 May 2023 15:18:15 GMT; HttpOnly; path=/; Domain=.safaricom.co.ke; Secure; SameSite=None', {"user":"      'visid_incap_2742146=/ZpafRwORVSBGIatY1GUGEScemIAAAAAQUIPAAAAAAD2xqqovCEsGF4fz8gCil+t; expires=Wed, 10 May 2023 15:18:15 GMT; HttpOnly; path=/; Domain=.safaricom.co.ke; Secure; SameSite=None',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'visid_incap_2742146=/ZpafRwORVSBGIatY1GUGEScemIAAAAAQUIPAAAAAAD2xqqovCEsGF4fz8gCil+t; expires=Wed, 10 May 2023 15:18:15 GMT; HttpOnly; path=/; Domain=.safaricom.co.ke; Secure; SameSite=None',"}}
[info] >        'incap_ses_1019_2742146=XNrCfiaiVFACTe/L3zckDkScemIAAAAAZnYNvR72DXAEqgO6lUg2xw==; path=/; Domain=.safaricom.co.ke; Secure; SameSite=None' {"user":"      'incap_ses_1019_2742146=XNrCfiaiVFACTe/L3zckDkScemIAAAAAZnYNvR72DXAEqgO6lUg2xw==; path=/; Domain=.safaricom.co.ke; Secure; SameSite=None'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'incap_ses_1019_2742146=XNrCfiaiVFACTe/L3zckDkScemIAAAAAZnYNvR72DXAEqgO6lUg2xw==; path=/; Domain=.safaricom.co.ke; Secure; SameSite=None'"}}
[info] >      ], {"user":"    ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     ],"}}
[info] >      'strict-transport-security': 'max-age=31536000', {"user":"    'strict-transport-security': 'max-age=31536000',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31536000',"}}
[info] >      'x-cdn': 'Imperva', {"user":"    'x-cdn': 'Imperva',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'x-cdn': 'Imperva',"}}
[info] >      'x-iinfo': '12-21407058-21407070 NNNN CT(65 65 0) RT(1652202563589 265) q(0 0 1 -1) r(5 5) U6' {"user":"    'x-iinfo': '12-21407058-21407070 NNNN CT(65 65 0) RT(1652202563589 265) q(0 0 1 -1) r(5 5) U6'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'x-iinfo': '12-21407058-21407070 NNNN CT(65 65 0) RT(1652202563589 265) q(0 0 1 -1) r(5 5) U6'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    statusMessage: 'Bad Request', {"user":"  statusMessage: 'Bad Request',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusMessage: 'Bad Request',"}}
[info] >    data: { {"user":"  data: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   data: {"}}
[info] >      requestId: '98426-38849229-1', {"user":"    requestId: '98426-38849229-1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: '98426-38849229-1',"}}
[info] >      errorCode: '400.002.02', {"user":"    errorCode: '400.002.02',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     errorCode: '400.002.02',"}}
[info] >      errorMessage: 'Bad Request - Invalid CallBackURL' {"user":"    errorMessage: 'Bad Request - Invalid CallBackURL'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     errorMessage: 'Bad Request - Invalid CallBackURL'"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] i  functions: Finished "api" in ~2s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~2s"}}
[debug] [2022-05-10T17:09:25.218Z] [worker-us-central1-api-730c9549-c1e9-4755-9ddf-1d9a0b8940c1]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-730c9549-c1e9-4755-9ddf-1d9a0b8940c1]: IDLE"}}
[debug] [2022-05-10T17:09:25.218Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-05-10T17:11:41.285Z] File /home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/server/http/controllers/mpesa.controller.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/server/http/controllers/mpesa.controller.js changed, reloading triggers"}}
[debug] [2022-05-10T17:11:42.285Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2022-05-10T17:11:42.286Z] [worker-us-central1-api-957b43f9-3d77-440f-978e-0374c6e5357b]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-957b43f9-3d77-440f-978e-0374c6e5357b]: FINISHING"}}
[debug] [2022-05-10T17:11:42.286Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2022-05-10T17:11:42.286Z] [worker-us-central1-api-730c9549-c1e9-4755-9ddf-1d9a0b8940c1]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-730c9549-c1e9-4755-9ddf-1d9a0b8940c1]: FINISHING"}}
[debug] [2022-05-10T17:11:42.288Z] Validating nodejs source
[debug] [2022-05-10T17:11:44.396Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.1",
    "express-async-errors": "^3.1.1",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0",
    "joi": "^17.6.0",
    "mpesa-api": "^3.0.2"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-05-10T17:11:44.396Z] Building nodejs source
[debug] [2022-05-10T17:11:44.396Z] Analyzing nodejs backend spec
[debug] [2022-05-10T17:11:44.402Z] [worker-us-central1-api-957b43f9-3d77-440f-978e-0374c6e5357b]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-957b43f9-3d77-440f-978e-0374c6e5357b]: exited"}}
[debug] [2022-05-10T17:11:44.403Z] [worker-us-central1-api-957b43f9-3d77-440f-978e-0374c6e5357b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-957b43f9-3d77-440f-978e-0374c6e5357b]: FINISHED"}}
[debug] [2022-05-10T17:11:44.403Z] [worker-us-central1-api-730c9549-c1e9-4755-9ddf-1d9a0b8940c1]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-730c9549-c1e9-4755-9ddf-1d9a0b8940c1]: exited"}}
[debug] [2022-05-10T17:11:44.403Z] [worker-us-central1-api-730c9549-c1e9-4755-9ddf-1d9a0b8940c1]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-730c9549-c1e9-4755-9ddf-1d9a0b8940c1]: FINISHED"}}
[debug] [2022-05-10T17:11:49.318Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-05-10T17:11:49.318Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-05-10T17:11:49.318Z] Accepted request OPTIONS /ntsa-drivers-e8a6a/us-central1/api/mpesa/initiate-stk --> us-central1-api
[debug] [2022-05-10T17:11:49.318Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2022-05-10T17:11:49.325Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-05-10T17:11:49.325Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-05-10T17:11:49.325Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-05-10T17:11:49.325Z] [worker-us-central1-api-f5f74c8a-bd43-403e-88d6-19b7faac0e74]: Assigning socketPath: /tmp/fire_emu_58213.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f5f74c8a-bd43-403e-88d6-19b7faac0e74]: Assigning socketPath: /tmp/fire_emu_58213.sock"}}
[debug] [2022-05-10T17:11:49.325Z] [worker-us-central1-api-f5f74c8a-bd43-403e-88d6-19b7faac0e74]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f5f74c8a-bd43-403e-88d6-19b7faac0e74]: BUSY"}}
[debug] [2022-05-10T17:11:49.976Z] [runtime-status] [58213] Functions runtime initialized. {"cwd":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions","node_version":"16.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58213] Functions runtime initialized. {\"cwd\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions\",\"node_version\":\"16.15.0\"}"}}
[debug] [2022-05-10T17:11:49.980Z] [runtime-status] [58213] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58213] Disabled runtime features: undefined"}}
[debug] [2022-05-10T17:11:49.983Z] [runtime-status] [58213] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.2.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58213] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.2.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-05-10T17:11:49.985Z] [runtime-status] [58213] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58213] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T17:11:49.985Z] [runtime-status] [58213] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58213] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-05-10T17:11:49.985Z] [runtime-status] [58213] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58213] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T17:11:50.010Z] [runtime-status] [58213] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58213] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-05-10T17:11:50.010Z] [runtime-status] [58213] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58213] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-05-10T17:11:50.011Z] [runtime-status] [58213] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58213] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T17:11:50.012Z] [runtime-status] [58213] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.2.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58213] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.2.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-05-10T17:11:50.013Z] [runtime-status] [58213] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58213] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T17:11:50.013Z] [runtime-status] [58213] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.2.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58213] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.2.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-05-10T17:11:50.110Z] [runtime-status] [58213] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58213] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-05-10T17:11:50.110Z] [runtime-status] [58213] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58213] Running api in signature http"}}
[debug] [2022-05-10T17:11:50.113Z] [runtime-status] [58213] Attempting to listen to socketPath: /tmp/fire_emu_58213.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58213] Attempting to listen to socketPath: /tmp/fire_emu_58213.sock"}}
[debug] [2022-05-10T17:11:50.117Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-05-10T17:11:50.117Z] [functions] Got req.url=/ntsa-drivers-e8a6a/us-central1/api/mpesa/initiate-stk, mapping to path=/mpesa/initiate-stk {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/ntsa-drivers-e8a6a/us-central1/api/mpesa/initiate-stk, mapping to path=/mpesa/initiate-stk"}}
[debug] [2022-05-10T17:11:50.124Z] [runtime-status] [58213] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58213] Ephemeral server handling OPTIONS request"}}
[debug] [2022-05-10T17:11:50.128Z] [runtime-status] [58213] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58213] Ephemeral server survived."}}
[debug] [2022-05-10T17:11:50.129Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-05-10T17:11:50.129Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-05-10T17:11:50.130Z] Accepted request POST /ntsa-drivers-e8a6a/us-central1/api/mpesa/initiate-stk --> us-central1-api
[debug] [2022-05-10T17:11:50.137Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-05-10T17:11:50.137Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2022-05-10T17:11:50.137Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-05-10T17:11:50.137Z] [worker-us-central1-api-9dcce280-a4f3-452f-abd2-a43b0785963d]: Assigning socketPath: /tmp/fire_emu_58220.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9dcce280-a4f3-452f-abd2-a43b0785963d]: Assigning socketPath: /tmp/fire_emu_58220.sock"}}
[debug] [2022-05-10T17:11:50.137Z] [worker-us-central1-api-9dcce280-a4f3-452f-abd2-a43b0785963d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9dcce280-a4f3-452f-abd2-a43b0785963d]: BUSY"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-05-10T17:11:50.139Z] [worker-us-central1-api-f5f74c8a-bd43-403e-88d6-19b7faac0e74]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f5f74c8a-bd43-403e-88d6-19b7faac0e74]: IDLE"}}
[debug] [2022-05-10T17:11:50.139Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-05-10T17:11:50.829Z] [runtime-status] [58220] Functions runtime initialized. {"cwd":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions","node_version":"16.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58220] Functions runtime initialized. {\"cwd\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions\",\"node_version\":\"16.15.0\"}"}}
[debug] [2022-05-10T17:11:50.831Z] [runtime-status] [58220] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58220] Disabled runtime features: undefined"}}
[debug] [2022-05-10T17:11:50.833Z] [runtime-status] [58220] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.2.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58220] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.2.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-05-10T17:11:50.834Z] [runtime-status] [58220] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58220] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T17:11:50.835Z] [runtime-status] [58220] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58220] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-05-10T17:11:50.835Z] [runtime-status] [58220] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58220] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T17:11:50.860Z] [runtime-status] [58220] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58220] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-05-10T17:11:50.860Z] [runtime-status] [58220] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58220] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-05-10T17:11:50.861Z] [runtime-status] [58220] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58220] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T17:11:50.862Z] [runtime-status] [58220] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.2.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58220] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.2.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-05-10T17:11:50.865Z] [runtime-status] [58220] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58220] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T17:11:50.865Z] [runtime-status] [58220] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.2.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58220] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.2.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-05-10T17:11:50.960Z] [runtime-status] [58220] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58220] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-05-10T17:11:50.961Z] [runtime-status] [58220] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58220] Running api in signature http"}}
[debug] [2022-05-10T17:11:50.965Z] [runtime-status] [58220] Attempting to listen to socketPath: /tmp/fire_emu_58220.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58220] Attempting to listen to socketPath: /tmp/fire_emu_58220.sock"}}
[debug] [2022-05-10T17:11:50.970Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-05-10T17:11:50.970Z] [functions] Got req.url=/ntsa-drivers-e8a6a/us-central1/api/mpesa/initiate-stk, mapping to path=/mpesa/initiate-stk {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/ntsa-drivers-e8a6a/us-central1/api/mpesa/initiate-stk, mapping to path=/mpesa/initiate-stk"}}
[debug] [2022-05-10T17:11:50.989Z] [runtime-status] [58220] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58220] Ephemeral server handling POST request"}}
[debug] [2022-05-10T17:11:51.009Z] [runtime-status] [58220] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58220] Ephemeral server survived."}}
[info] >  Callback 1: { {"user":"Callback 1: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Callback 1: {"}}
[info] >    MerchantRequestID: '10778-38178913-1', {"user":"  MerchantRequestID: '10778-38178913-1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   MerchantRequestID: '10778-38178913-1',"}}
[info] >    CheckoutRequestID: 'ws_CO_10052022201150496110039317', {"user":"  CheckoutRequestID: 'ws_CO_10052022201150496110039317',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   CheckoutRequestID: 'ws_CO_10052022201150496110039317',"}}
[info] >    ResponseCode: '0', {"user":"  ResponseCode: '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   ResponseCode: '0',"}}
[info] >    ResponseDescription: 'Success. Request accepted for processing', {"user":"  ResponseDescription: 'Success. Request accepted for processing',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   ResponseDescription: 'Success. Request accepted for processing',"}}
[info] >    CustomerMessage: 'Success. Request accepted for processing' {"user":"  CustomerMessage: 'Success. Request accepted for processing'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   CustomerMessage: 'Success. Request accepted for processing'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] i  functions: Finished "api" in ~2s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~2s"}}
[debug] [2022-05-10T17:11:53.355Z] [worker-us-central1-api-9dcce280-a4f3-452f-abd2-a43b0785963d]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9dcce280-a4f3-452f-abd2-a43b0785963d]: IDLE"}}
[debug] [2022-05-10T17:11:53.356Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-05-10T17:13:02.472Z] File /home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/server/http/controllers/mpesa.controller.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/server/http/controllers/mpesa.controller.js changed, reloading triggers"}}
[debug] [2022-05-10T17:13:03.473Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2022-05-10T17:13:03.474Z] [worker-us-central1-api-f5f74c8a-bd43-403e-88d6-19b7faac0e74]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f5f74c8a-bd43-403e-88d6-19b7faac0e74]: FINISHING"}}
[debug] [2022-05-10T17:13:03.474Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2022-05-10T17:13:03.474Z] [worker-us-central1-api-9dcce280-a4f3-452f-abd2-a43b0785963d]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9dcce280-a4f3-452f-abd2-a43b0785963d]: FINISHING"}}
[debug] [2022-05-10T17:13:03.475Z] Validating nodejs source
[debug] [2022-05-10T17:13:04.550Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.1",
    "express-async-errors": "^3.1.1",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0",
    "joi": "^17.6.0",
    "mpesa-api": "^3.0.2"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-05-10T17:13:04.550Z] Building nodejs source
[debug] [2022-05-10T17:13:04.550Z] Analyzing nodejs backend spec
[debug] [2022-05-10T17:13:04.559Z] [worker-us-central1-api-f5f74c8a-bd43-403e-88d6-19b7faac0e74]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f5f74c8a-bd43-403e-88d6-19b7faac0e74]: exited"}}
[debug] [2022-05-10T17:13:04.559Z] [worker-us-central1-api-f5f74c8a-bd43-403e-88d6-19b7faac0e74]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f5f74c8a-bd43-403e-88d6-19b7faac0e74]: FINISHED"}}
[debug] [2022-05-10T17:13:04.559Z] [worker-us-central1-api-9dcce280-a4f3-452f-abd2-a43b0785963d]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9dcce280-a4f3-452f-abd2-a43b0785963d]: exited"}}
[debug] [2022-05-10T17:13:04.560Z] [worker-us-central1-api-9dcce280-a4f3-452f-abd2-a43b0785963d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9dcce280-a4f3-452f-abd2-a43b0785963d]: FINISHED"}}
[debug] [2022-05-10T17:13:05.305Z] File /home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/server/http/controllers/mpesa.controller.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/server/http/controllers/mpesa.controller.js changed, reloading triggers"}}
[debug] [2022-05-10T17:13:06.307Z] Validating nodejs source
[debug] [2022-05-10T17:13:07.596Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.1",
    "express-async-errors": "^3.1.1",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0",
    "joi": "^17.6.0",
    "mpesa-api": "^3.0.2"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-05-10T17:13:07.596Z] Building nodejs source
[debug] [2022-05-10T17:13:07.596Z] Analyzing nodejs backend spec
[debug] [2022-05-10T17:13:59.347Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-05-10T17:13:59.347Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-05-10T17:13:59.347Z] Accepted request POST /ntsa-drivers-e8a6a/us-central1/api/mpesa/stk-callback --> us-central1-api
[debug] [2022-05-10T17:13:59.347Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2022-05-10T17:13:59.353Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-05-10T17:13:59.353Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-05-10T17:13:59.353Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-05-10T17:13:59.353Z] [worker-us-central1-api-4a7bfca6-b4b2-4a63-a62a-c4b978eb1e44]: Assigning socketPath: /tmp/fire_emu_58417.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4a7bfca6-b4b2-4a63-a62a-c4b978eb1e44]: Assigning socketPath: /tmp/fire_emu_58417.sock"}}
[debug] [2022-05-10T17:13:59.353Z] [worker-us-central1-api-4a7bfca6-b4b2-4a63-a62a-c4b978eb1e44]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4a7bfca6-b4b2-4a63-a62a-c4b978eb1e44]: BUSY"}}
[debug] [2022-05-10T17:13:59.991Z] [runtime-status] [58417] Functions runtime initialized. {"cwd":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions","node_version":"16.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58417] Functions runtime initialized. {\"cwd\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions\",\"node_version\":\"16.15.0\"}"}}
[debug] [2022-05-10T17:13:59.995Z] [runtime-status] [58417] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58417] Disabled runtime features: undefined"}}
[debug] [2022-05-10T17:13:59.996Z] [runtime-status] [58417] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.2.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58417] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.2.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-05-10T17:13:59.998Z] [runtime-status] [58417] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58417] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T17:13:59.998Z] [runtime-status] [58417] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58417] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-05-10T17:13:59.998Z] [runtime-status] [58417] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58417] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T17:14:00.021Z] [runtime-status] [58417] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58417] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-05-10T17:14:00.021Z] [runtime-status] [58417] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58417] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-05-10T17:14:00.022Z] [runtime-status] [58417] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58417] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T17:14:00.023Z] [runtime-status] [58417] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.2.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58417] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.2.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-05-10T17:14:00.024Z] [runtime-status] [58417] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58417] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T17:14:00.024Z] [runtime-status] [58417] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.2.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58417] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.2.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-05-10T17:14:00.111Z] [runtime-status] [58417] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58417] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-05-10T17:14:00.111Z] [runtime-status] [58417] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58417] Running api in signature http"}}
[debug] [2022-05-10T17:14:00.115Z] [runtime-status] [58417] Attempting to listen to socketPath: /tmp/fire_emu_58417.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58417] Attempting to listen to socketPath: /tmp/fire_emu_58417.sock"}}
[debug] [2022-05-10T17:14:00.118Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-05-10T17:14:00.118Z] [functions] Got req.url=/ntsa-drivers-e8a6a/us-central1/api/mpesa/stk-callback, mapping to path=/mpesa/stk-callback {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/ntsa-drivers-e8a6a/us-central1/api/mpesa/stk-callback, mapping to path=/mpesa/stk-callback"}}
[debug] [2022-05-10T17:14:00.125Z] [runtime-status] [58417] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58417] Ephemeral server handling POST request"}}
[info] >  Callback 2: {} {"user":"Callback 2: {}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Callback 2: {}"}}
[debug] [2022-05-10T17:14:00.131Z] [runtime-status] [58417] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58417] Ephemeral server survived."}}
[debug] [2022-05-10T17:14:11.773Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-05-10T17:14:11.773Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-05-10T17:14:11.774Z] Accepted request OPTIONS /ntsa-drivers-e8a6a/us-central1/api/mpesa/initiate-stk --> us-central1-api
[debug] [2022-05-10T17:14:11.781Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-05-10T17:14:11.781Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2022-05-10T17:14:11.781Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-05-10T17:14:11.781Z] [worker-us-central1-api-f1d0bd56-0134-4b3e-a77f-1869b78742e8]: Assigning socketPath: /tmp/fire_emu_58434.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f1d0bd56-0134-4b3e-a77f-1869b78742e8]: Assigning socketPath: /tmp/fire_emu_58434.sock"}}
[debug] [2022-05-10T17:14:11.781Z] [worker-us-central1-api-f1d0bd56-0134-4b3e-a77f-1869b78742e8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f1d0bd56-0134-4b3e-a77f-1869b78742e8]: BUSY"}}
[debug] [2022-05-10T17:14:12.423Z] [runtime-status] [58434] Functions runtime initialized. {"cwd":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions","node_version":"16.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58434] Functions runtime initialized. {\"cwd\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions\",\"node_version\":\"16.15.0\"}"}}
[debug] [2022-05-10T17:14:12.427Z] [runtime-status] [58434] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58434] Disabled runtime features: undefined"}}
[debug] [2022-05-10T17:14:12.428Z] [runtime-status] [58434] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.2.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58434] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.2.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-05-10T17:14:12.429Z] [runtime-status] [58434] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58434] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T17:14:12.430Z] [runtime-status] [58434] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58434] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-05-10T17:14:12.430Z] [runtime-status] [58434] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58434] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T17:14:12.454Z] [runtime-status] [58434] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58434] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-05-10T17:14:12.454Z] [runtime-status] [58434] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58434] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-05-10T17:14:12.456Z] [runtime-status] [58434] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58434] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T17:14:12.457Z] [runtime-status] [58434] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.2.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58434] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.2.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-05-10T17:14:12.458Z] [runtime-status] [58434] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58434] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T17:14:12.458Z] [runtime-status] [58434] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.2.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58434] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.2.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-05-10T17:14:12.567Z] [runtime-status] [58434] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58434] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-05-10T17:14:12.567Z] [runtime-status] [58434] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58434] Running api in signature http"}}
[debug] [2022-05-10T17:14:12.570Z] [runtime-status] [58434] Attempting to listen to socketPath: /tmp/fire_emu_58434.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58434] Attempting to listen to socketPath: /tmp/fire_emu_58434.sock"}}
[debug] [2022-05-10T17:14:12.575Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-05-10T17:14:12.575Z] [functions] Got req.url=/ntsa-drivers-e8a6a/us-central1/api/mpesa/initiate-stk, mapping to path=/mpesa/initiate-stk {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/ntsa-drivers-e8a6a/us-central1/api/mpesa/initiate-stk, mapping to path=/mpesa/initiate-stk"}}
[debug] [2022-05-10T17:14:12.581Z] [runtime-status] [58434] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58434] Ephemeral server handling OPTIONS request"}}
[debug] [2022-05-10T17:14:12.588Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2022-05-10T17:14:12.589Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2022-05-10T17:14:12.589Z] Accepted request POST /ntsa-drivers-e8a6a/us-central1/api/mpesa/initiate-stk --> us-central1-api
[debug] [2022-05-10T17:14:12.596Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-05-10T17:14:12.596Z] [worker-pool] Adding worker with key us-central1-api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=3"}}
[debug] [2022-05-10T17:14:12.596Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-05-10T17:14:12.596Z] [worker-us-central1-api-10d807d1-2400-4f5f-b24e-55d5eff8592f]: Assigning socketPath: /tmp/fire_emu_58443.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-10d807d1-2400-4f5f-b24e-55d5eff8592f]: Assigning socketPath: /tmp/fire_emu_58443.sock"}}
[debug] [2022-05-10T17:14:12.596Z] [worker-us-central1-api-10d807d1-2400-4f5f-b24e-55d5eff8592f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-10d807d1-2400-4f5f-b24e-55d5eff8592f]: BUSY"}}
[debug] [2022-05-10T17:14:12.596Z] [runtime-status] [58434] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58434] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-05-10T17:14:12.597Z] [worker-us-central1-api-f1d0bd56-0134-4b3e-a77f-1869b78742e8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f1d0bd56-0134-4b3e-a77f-1869b78742e8]: IDLE"}}
[debug] [2022-05-10T17:14:12.597Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-05-10T17:14:13.240Z] [runtime-status] [58443] Functions runtime initialized. {"cwd":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions","node_version":"16.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58443] Functions runtime initialized. {\"cwd\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions\",\"node_version\":\"16.15.0\"}"}}
[debug] [2022-05-10T17:14:13.241Z] [runtime-status] [58443] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58443] Disabled runtime features: undefined"}}
[debug] [2022-05-10T17:14:13.243Z] [runtime-status] [58443] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.2.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58443] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.2.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-05-10T17:14:13.244Z] [runtime-status] [58443] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58443] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T17:14:13.244Z] [runtime-status] [58443] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58443] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-05-10T17:14:13.245Z] [runtime-status] [58443] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58443] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T17:14:13.269Z] [runtime-status] [58443] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58443] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-05-10T17:14:13.269Z] [runtime-status] [58443] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58443] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-05-10T17:14:13.270Z] [runtime-status] [58443] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58443] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T17:14:13.272Z] [runtime-status] [58443] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.2.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58443] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.2.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-05-10T17:14:13.274Z] [runtime-status] [58443] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58443] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-05-10T17:14:13.274Z] [runtime-status] [58443] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.2.0","resolution":"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58443] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.2.0\",\"resolution\":\"/home/nabcellent/Desktop/JS/Projects/ntsa-drivers/ntsa-drivers/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-05-10T17:14:13.367Z] [runtime-status] [58443] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58443] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-05-10T17:14:13.368Z] [runtime-status] [58443] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58443] Running api in signature http"}}
[debug] [2022-05-10T17:14:13.371Z] [runtime-status] [58443] Attempting to listen to socketPath: /tmp/fire_emu_58443.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58443] Attempting to listen to socketPath: /tmp/fire_emu_58443.sock"}}
[debug] [2022-05-10T17:14:13.375Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-05-10T17:14:13.375Z] [functions] Got req.url=/ntsa-drivers-e8a6a/us-central1/api/mpesa/initiate-stk, mapping to path=/mpesa/initiate-stk {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/ntsa-drivers-e8a6a/us-central1/api/mpesa/initiate-stk, mapping to path=/mpesa/initiate-stk"}}
[debug] [2022-05-10T17:14:13.388Z] [runtime-status] [58443] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58443] Ephemeral server handling POST request"}}
[debug] [2022-05-10T17:14:13.401Z] [runtime-status] [58443] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58443] Ephemeral server survived."}}
[info] >  Callback 1: { {"user":"Callback 1: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Callback 1: {"}}
[info] >    MerchantRequestID: '3190-38189825-1', {"user":"  MerchantRequestID: '3190-38189825-1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   MerchantRequestID: '3190-38189825-1',"}}
[info] >    CheckoutRequestID: 'ws_CO_10052022201412734110039317', {"user":"  CheckoutRequestID: 'ws_CO_10052022201412734110039317',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   CheckoutRequestID: 'ws_CO_10052022201412734110039317',"}}
[info] >    ResponseCode: '0', {"user":"  ResponseCode: '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   ResponseCode: '0',"}}
[info] >    ResponseDescription: 'Success. Request accepted for processing', {"user":"  ResponseDescription: 'Success. Request accepted for processing',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   ResponseDescription: 'Success. Request accepted for processing',"}}
[info] >    CustomerMessage: 'Success. Request accepted for processing' {"user":"  CustomerMessage: 'Success. Request accepted for processing'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   CustomerMessage: 'Success. Request accepted for processing'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-05-10T17:14:15.351Z] [worker-us-central1-api-10d807d1-2400-4f5f-b24e-55d5eff8592f]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-10d807d1-2400-4f5f-b24e-55d5eff8592f]: IDLE"}}
[debug] [2022-05-10T17:14:15.351Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-05-10T17:14:21.685Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-05-10T17:14:21.685Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-05-10T17:14:21.685Z] Accepted request POST /ntsa-drivers-e8a6a/us-central1/api/mpesa/stk-callback --> us-central1-api
[debug] [2022-05-10T17:14:21.685Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-05-10T17:14:21.685Z] [worker-us-central1-api-f1d0bd56-0134-4b3e-a77f-1869b78742e8]: Assigning socketPath: /tmp/fire_emu_58434.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f1d0bd56-0134-4b3e-a77f-1869b78742e8]: Assigning socketPath: /tmp/fire_emu_58434.sock"}}
[debug] [2022-05-10T17:14:21.686Z] [worker-us-central1-api-f1d0bd56-0134-4b3e-a77f-1869b78742e8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f1d0bd56-0134-4b3e-a77f-1869b78742e8]: BUSY"}}
[debug] [2022-05-10T17:14:21.686Z] [runtime-status] [58434] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58434] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-05-10T17:14:21.687Z] [runtime-status] [58434] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58434] Running api in signature http"}}
[debug] [2022-05-10T17:14:21.687Z] [runtime-status] [58434] Attempting to listen to socketPath: /tmp/fire_emu_58434.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58434] Attempting to listen to socketPath: /tmp/fire_emu_58434.sock"}}
[debug] [2022-05-10T17:14:21.688Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-05-10T17:14:21.689Z] [functions] Got req.url=/ntsa-drivers-e8a6a/us-central1/api/mpesa/stk-callback, mapping to path=/mpesa/stk-callback {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/ntsa-drivers-e8a6a/us-central1/api/mpesa/stk-callback, mapping to path=/mpesa/stk-callback"}}
[debug] [2022-05-10T17:14:21.697Z] [runtime-status] [58434] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58434] Ephemeral server handling POST request"}}
[info] >  Callback 2: { {"user":"Callback 2: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Callback 2: {"}}
[info] >    Body: { {"user":"  Body: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   Body: {"}}
[info] >      stkCallback: { {"user":"    stkCallback: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     stkCallback: {"}}
[info] >        MerchantRequestID: '3190-38189825-1', {"user":"      MerchantRequestID: '3190-38189825-1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       MerchantRequestID: '3190-38189825-1',"}}
[info] >        CheckoutRequestID: 'ws_CO_10052022201412734110039317', {"user":"      CheckoutRequestID: 'ws_CO_10052022201412734110039317',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       CheckoutRequestID: 'ws_CO_10052022201412734110039317',"}}
[info] >        ResultCode: 1032, {"user":"      ResultCode: 1032,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       ResultCode: 1032,"}}
[info] >        ResultDesc: 'Request cancelled by user' {"user":"      ResultDesc: 'Request cancelled by user'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       ResultDesc: 'Request cancelled by user'"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-05-10T17:14:21.704Z] [runtime-status] [58434] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58434] Ephemeral server survived."}}
[debug] [2022-05-10T17:14:37.518Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2022-05-10T17:14:37.518Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2022-05-10T17:14:37.518Z] Accepted request POST /ntsa-drivers-e8a6a/us-central1/api/mpesa/stk-callback --> us-central1-api
[debug] [2022-05-10T17:14:37.519Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-05-10T17:14:37.519Z] [worker-us-central1-api-10d807d1-2400-4f5f-b24e-55d5eff8592f]: Assigning socketPath: /tmp/fire_emu_58443.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-10d807d1-2400-4f5f-b24e-55d5eff8592f]: Assigning socketPath: /tmp/fire_emu_58443.sock"}}
[debug] [2022-05-10T17:14:37.520Z] [worker-us-central1-api-10d807d1-2400-4f5f-b24e-55d5eff8592f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-10d807d1-2400-4f5f-b24e-55d5eff8592f]: BUSY"}}
[debug] [2022-05-10T17:14:37.522Z] [runtime-status] [58443] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58443] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-05-10T17:14:37.523Z] [runtime-status] [58443] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58443] Running api in signature http"}}
[debug] [2022-05-10T17:14:37.523Z] [runtime-status] [58443] Attempting to listen to socketPath: /tmp/fire_emu_58443.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58443] Attempting to listen to socketPath: /tmp/fire_emu_58443.sock"}}
[debug] [2022-05-10T17:14:37.525Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-05-10T17:14:37.526Z] [functions] Got req.url=/ntsa-drivers-e8a6a/us-central1/api/mpesa/stk-callback, mapping to path=/mpesa/stk-callback {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/ntsa-drivers-e8a6a/us-central1/api/mpesa/stk-callback, mapping to path=/mpesa/stk-callback"}}
[debug] [2022-05-10T17:14:37.530Z] [runtime-status] [58443] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58443] Ephemeral server handling POST request"}}
[info] >  Callback 2: { {"user":"Callback 2: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Callback 2: {"}}
[info] >    Body: { {"user":"  Body: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   Body: {"}}
[info] >      stkCallback: { {"user":"    stkCallback: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     stkCallback: {"}}
[info] >        MerchantRequestID: '3190-38189825-1', {"user":"      MerchantRequestID: '3190-38189825-1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       MerchantRequestID: '3190-38189825-1',"}}
[info] >        CheckoutRequestID: 'ws_CO_10052022201412734110039317', {"user":"      CheckoutRequestID: 'ws_CO_10052022201412734110039317',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       CheckoutRequestID: 'ws_CO_10052022201412734110039317',"}}
[info] >        ResultCode: 1032, {"user":"      ResultCode: 1032,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       ResultCode: 1032,"}}
[info] >        ResultDesc: 'Request cancelled by user' {"user":"      ResultDesc: 'Request cancelled by user'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       ResultDesc: 'Request cancelled by user'"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-05-10T17:14:37.535Z] [runtime-status] [58443] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [58443] Ephemeral server survived."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634 {"user":"/usr/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /usr/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19) {"user":"    at Timeout._onTimeout (/usr/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19)"}}
[info] >      at listOnTimeout (node:internal/timers:559:17) {"user":"    at listOnTimeout (node:internal/timers:559:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (node:internal/timers:559:17)"}}
[info] >      at processTimers (node:internal/timers:502:7) {"user":"    at processTimers (node:internal/timers:502:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTimers (node:internal/timers:502:7)"}}
[debug] [2022-05-10T17:15:00.128Z] [worker-us-central1-api-4a7bfca6-b4b2-4a63-a62a-c4b978eb1e44]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4a7bfca6-b4b2-4a63-a62a-c4b978eb1e44]: exited"}}
[debug] [2022-05-10T17:15:00.128Z] [worker-us-central1-api-4a7bfca6-b4b2-4a63-a62a-c4b978eb1e44]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4a7bfca6-b4b2-4a63-a62a-c4b978eb1e44]: FINISHED"}}
[debug] [2022-05-10T17:15:00.129Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634 {"user":"/usr/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /usr/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19) {"user":"    at Timeout._onTimeout (/usr/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19)"}}
[info] >      at listOnTimeout (node:internal/timers:559:17) {"user":"    at listOnTimeout (node:internal/timers:559:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (node:internal/timers:559:17)"}}
[info] >      at processTimers (node:internal/timers:502:7) {"user":"    at processTimers (node:internal/timers:502:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTimers (node:internal/timers:502:7)"}}
[debug] [2022-05-10T17:15:21.703Z] [worker-us-central1-api-f1d0bd56-0134-4b3e-a77f-1869b78742e8]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f1d0bd56-0134-4b3e-a77f-1869b78742e8]: exited"}}
[debug] [2022-05-10T17:15:21.704Z] [worker-us-central1-api-f1d0bd56-0134-4b3e-a77f-1869b78742e8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f1d0bd56-0134-4b3e-a77f-1869b78742e8]: FINISHED"}}
[debug] [2022-05-10T17:15:21.704Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634 {"user":"/usr/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /usr/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19) {"user":"    at Timeout._onTimeout (/usr/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19)"}}
[info] >      at listOnTimeout (node:internal/timers:559:17) {"user":"    at listOnTimeout (node:internal/timers:559:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (node:internal/timers:559:17)"}}
[info] >      at processTimers (node:internal/timers:502:7) {"user":"    at processTimers (node:internal/timers:502:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTimers (node:internal/timers:502:7)"}}
[debug] [2022-05-10T17:15:37.529Z] [worker-us-central1-api-10d807d1-2400-4f5f-b24e-55d5eff8592f]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-10d807d1-2400-4f5f-b24e-55d5eff8592f]: exited"}}
[debug] [2022-05-10T17:15:37.529Z] [worker-us-central1-api-10d807d1-2400-4f5f-b24e-55d5eff8592f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-10d807d1-2400-4f5f-b24e-55d5eff8592f]: FINISHED"}}
[debug] [2022-05-10T17:15:37.530Z] [work-queue] {"queueLength":0,"workRunningCount":0}
